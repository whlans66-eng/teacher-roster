# ğŸ“ æ•™å¸«æ’èª²ç®¡ç†ç³»çµ± (WHL MARITRAIN)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Google Apps Script](https://img.shields.io/badge/Google_Apps_Script-Powered-blue.svg)](https://developers.google.com/apps-script)
[![GitHub Pages](https://img.shields.io/badge/Deployed-GitHub_Pages-success.svg)](https://whlans66-eng.github.io/teacher-roster/)

## ğŸ“‹ ç›®éŒ„

- [å°ˆæ¡ˆç°¡ä»‹](#å°ˆæ¡ˆç°¡ä»‹)
- [ç³»çµ±ç‰¹è‰²](#ç³»çµ±ç‰¹è‰²)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [åŠŸèƒ½èªªæ˜](#åŠŸèƒ½èªªæ˜)
- [é–‹ç™¼æŒ‡å—](#é–‹ç™¼æŒ‡å—)
- [éƒ¨ç½²èªªæ˜](#éƒ¨ç½²èªªæ˜)
- [æœªä¾†å‡ç´šè¨ˆåŠƒ](#æœªä¾†å‡ç´šè¨ˆåŠƒ)

---

## ğŸ“– å°ˆæ¡ˆç°¡ä»‹

æ•™å¸«æ’èª²ç®¡ç†ç³»çµ±æ˜¯ä¸€å€‹åŸºæ–¼ **Google ç”Ÿæ…‹ç³»çµ±**çš„ç¾ä»£åŒ– Web æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨æ–¼ç®¡ç†æ•™è‚²æ©Ÿæ§‹çš„æ•™å¸«è³‡è¨Šã€èª²ç¨‹å®‰æ’å’Œæ´¾èª²èª¿åº¦ã€‚

**ğŸŒ ç·šä¸Šç³»çµ±**ï¼šhttps://whlans66-eng.github.io/teacher-roster/

### æ ¸å¿ƒåƒ¹å€¼

- âœ… **é›¶ç¶­é‹æˆæœ¬**ï¼šå®Œå…¨åŸºæ–¼ Google å…è²»æœå‹™
- âœ… **è‡ªå‹•å‚™ä»½**ï¼šGoogle Sheets è‡ªå‹•ç‰ˆæœ¬æ§åˆ¶
- âœ… **å¿«é€Ÿéƒ¨ç½²**ï¼šä¿®æ”¹å¾Œå³æ™‚ç”Ÿæ•ˆ
- âœ… **é«˜å¯ç”¨æ€§**ï¼š99.9% Google æœå‹™ SLA

---

## ğŸŒŸ ç³»çµ±ç‰¹è‰²

### ç›®å‰å¯¦ä½œçš„åŠŸèƒ½

- âœ… **æ•™å¸«ç®¡ç†**
  - æ•™å¸«è³‡æ–™ CRUDï¼ˆæ–°å¢ã€æŸ¥è©¢ã€ä¿®æ”¹ã€åˆªé™¤ï¼‰
  - ç…§ç‰‡ä¸Šå‚³ï¼ˆGoogle Driveï¼‰
  - ç¶“æ­·ã€è­‰ç…§ã€å°ˆé•·ç®¡ç†
  - æ•™å¸«é¡å‹åˆ†é¡ï¼ˆå°ˆä»»ã€å…¼ä»»ã€å¤–è˜ï¼‰

- âœ… **èª²ç¨‹ç®¡ç†**
  - èˆªæµ·èª²ç¨‹è³‡æ–™åº«
  - èª²ç¨‹åˆ†é¡ç®¡ç†
  - æˆèª²æ–¹å¼ï¼ˆå¯¦é«”ã€ç·šä¸Šã€æ··åˆï¼‰
  - èª²ç¨‹æœå°‹èˆ‡ç¯©é¸

- âœ… **æ´¾èª²ç®¡ç†**
  - èª²ç¨‹æ´¾èª²è¨˜éŒ„
  - æ•™å¸«èª²è¡¨æŸ¥çœ‹
  - æ´¾èª²ç‹€æ…‹ç®¡ç†
  - æ™‚é–“è¡çªæª¢æŸ¥

- âœ… **å•å·ç³»çµ±**
  - å•å·ç¯„æœ¬ç®¡ç†
  - å•å·å»ºç«‹èˆ‡åˆ†äº«
  - å•å·å›è¦†æ”¶é›†
  - æ»¿æ„åº¦èª¿æŸ¥

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### ç›®å‰æ¶æ§‹ï¼ˆé‹è¡Œä¸­ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯ (GitHub Pages)                    â”‚
â”‚  - HTML5 + CSS3 + Vanilla JavaScript   â”‚
â”‚  - éŸ¿æ‡‰å¼è¨­è¨ˆ                           â”‚
â”‚  - ç„¡æ¡†æ¶ä¾è³´                           â”‚
â”‚  https://whlans66-eng.github.io/...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ HTTPS REST API
             â”‚ Token èªè­‰
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¾Œç«¯ API (Google Apps Script)         â”‚
â”‚  - ç„¡ä¼ºæœå™¨æ¶æ§‹                         â”‚
â”‚  - è‡ªå‹•æ“´å±•                             â”‚
â”‚  - doGet/doPost è™•ç†å™¨                  â”‚
â”‚  script.google.com/macros/s/.../exec   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Sheets API
             â”‚ Drive API
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è³‡æ–™å„²å­˜ (Google Services)            â”‚
â”‚  ğŸ“Š Google Sheetsï¼ˆè³‡æ–™åº«ï¼‰             â”‚
â”‚     - teachersï¼ˆæ•™å¸«ï¼‰                  â”‚
â”‚     - courseAssignmentsï¼ˆæ´¾èª²ï¼‰         â”‚
â”‚     - maritimeCoursesï¼ˆèª²ç¨‹ï¼‰           â”‚
â”‚     - surveyTemplatesï¼ˆå•å·ç¯„æœ¬ï¼‰       â”‚
â”‚     - surveysï¼ˆå•å·ï¼‰                   â”‚
â”‚     - surveyResponsesï¼ˆå•å·å›è¦†ï¼‰       â”‚
â”‚                                         â”‚
â”‚  ğŸ“ Google Driveï¼ˆæª”æ¡ˆå„²å­˜ï¼‰            â”‚
â”‚     - æ•™å¸«ç…§ç‰‡                          â”‚
â”‚     - ä¸Šå‚³æ–‡ä»¶                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ | èªªæ˜ |
|------|------|------|
| **å‰ç«¯** | HTML5 + CSS3 + JavaScript | ç´”å‰ç«¯å¯¦ä½œï¼Œç„¡éœ€å»ºç½®å·¥å…· |
| **API å±¤** | Google Apps Script | ç„¡ä¼ºæœå™¨å¾Œç«¯ï¼Œè‡ªå‹•æ“´å±• |
| **è³‡æ–™åº«** | Google Sheets | çµæ§‹åŒ–è³‡æ–™å„²å­˜ |
| **æª”æ¡ˆå„²å­˜** | Google Drive | åœ–ç‰‡å’Œæ–‡ä»¶ä¸Šå‚³ |
| **è¨—ç®¡** | GitHub Pages | éœæ…‹ç¶²ç«™å…è²»è¨—ç®¡ |
| **ç‰ˆæœ¬æ§åˆ¶** | Git + GitHub | ç¨‹å¼ç¢¼ç‰ˆæœ¬ç®¡ç† |

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- Google å¸³è™Ÿ
- Git
- ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ï¼ˆæ¨è–¦ VS Codeï¼‰
- ç¾ä»£ç€è¦½å™¨

### æœ¬åœ°é–‹ç™¼

#### 1. Clone å°ˆæ¡ˆ

```bash
git clone https://github.com/whlans66-eng/teacher-roster.git
cd teacher-roster
```

#### 2. æœ¬åœ°é è¦½

**æ–¹æ³• A: VS Code Live Server**
```bash
# å®‰è£ Live Server æ“´å……å¥—ä»¶
# å³éµ index.html â†’ Open with Live Server
```

**æ–¹æ³• B: Python**
```bash
python -m http.server 8000
# é–‹å•Ÿ http://localhost:8000
```

**æ–¹æ³• C: Node.js**
```bash
npx http-server -p 8000
# é–‹å•Ÿ http://localhost:8000
```

#### 3. æ¸¬è©¦ API é€£ç·š

é–‹å•Ÿç€è¦½å™¨ Console (F12)ï¼š

```javascript
await api.ping()
// é æœŸå›æ‡‰ï¼š{ ok: true, server: "Google Apps Script" }
```

---

## ğŸ“š åŠŸèƒ½èªªæ˜

### æ•™å¸«ç®¡ç†

- æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤æ•™å¸«è³‡æ–™
- ä¸Šå‚³æ•™å¸«ç…§ç‰‡
- è¨˜éŒ„æ•™å­¸ç¶“æ­·ã€å°ˆæ¥­è­‰ç…§
- è¨­å®šæˆèª²ç§‘ç›®å’Œå°ˆé•·é ˜åŸŸ
- æ•™å¸«é¡å‹åˆ†é¡ï¼ˆå°ˆä»»/å…¼ä»»/å¤–è˜ï¼‰

### èª²ç¨‹ç®¡ç†

- ç¶­è­·èˆªæµ·èª²ç¨‹è³‡æ–™åº«
- èª²ç¨‹åˆ†é¡å’Œç·¨è™Ÿ
- èª²ç¨‹æè¿°å’Œé—œéµå­—
- æˆèª²æ–¹å¼è¨­å®šï¼ˆå¯¦é«”/ç·šä¸Š/æ··åˆï¼‰

### æ´¾èª²ç®¡ç†

- å»ºç«‹èª²ç¨‹æ´¾èª²è¨˜éŒ„
- æŒ‡å®šæ•™å¸«å’Œä¸Šèª²æ™‚é–“
- æ´¾èª²ç‹€æ…‹è¿½è¹¤ï¼ˆå·²ç¢ºèª/å¾…ç¢ºèª/å·²å–æ¶ˆï¼‰
- æŸ¥çœ‹æ•™å¸«èª²è¡¨
- é¿å…æ™‚é–“è¡çª

### å•å·ç³»çµ±

- å»ºç«‹å•å·ç¯„æœ¬
- ç”¢ç”Ÿå•å·é€£çµ
- æ”¶é›†å­¸å“¡å›é¥‹
- æŸ¥çœ‹çµ±è¨ˆçµæœ

---

## ğŸ‘¨â€ğŸ’» é–‹ç™¼æŒ‡å—

### å°ˆæ¡ˆçµæ§‹

```
teacher-roster/
â”œâ”€â”€ index.html              # ä¸»é é¢
â”œâ”€â”€ teacher-management.html # æ•™å¸«ç®¡ç†é é¢
â”œâ”€â”€ course-management.html  # èª²ç¨‹ç®¡ç†é é¢
â”œâ”€â”€ maritime-courses.html   # èˆªæµ·èª²ç¨‹é é¢
â”œâ”€â”€ js/
â”‚   â””â”€â”€ api.js             # API é€šè¨Šå±¤
â”œâ”€â”€ backend-api.gs         # Google Apps Script å¾Œç«¯
â”œâ”€â”€ backend/               # æœªä¾†å‡ç´šï¼šNode.js å¾Œç«¯
â”œâ”€â”€ database/              # æœªä¾†å‡ç´šï¼šMySQL è³‡æ–™åº«
â””â”€â”€ README.md
```

### API ä½¿ç”¨ç¯„ä¾‹

```javascript
// è®€å–æ•™å¸«åˆ—è¡¨
const teachers = await api.list('teachers');

// æ–°å¢æ•™å¸«
await api.save('teachers', [
  {
    id: '1',
    name: 'ç‹è€å¸«',
    email: 'wang@example.com',
    teacherType: 'å°ˆä»»',
    subjects: ['æ•¸å­¸', 'ç‰©ç†']
  }
]);

// ä¸Šå‚³æª”æ¡ˆ
const file = document.getElementById('fileInput').files[0];
const result = await api.uploadFile(file);
console.log(result.url); // Google Drive URL
```

### è©³ç´°æ–‡æª”

è«‹åƒè€ƒ [ç´°éƒ¨é–‹ç™¼æ‰‹å†Š](./DEVELOPMENT_MANUAL.md) ç²å–å®Œæ•´çš„é–‹ç™¼æŒ‡å—ï¼ŒåŒ…å«ï¼š

- ç³»çµ±æ¶æ§‹è©³è§£
- Google Apps Script éƒ¨ç½²æ•™å­¸
- Google Sheets è³‡æ–™åº«è¨­è¨ˆ
- API ç«¯é»å®Œæ•´æ–‡æª”
- å‰ç«¯é–‹ç™¼æœ€ä½³å¯¦è¸
- å¸¸è¦‹å•é¡Œæ’è§£

---

## ğŸŒ éƒ¨ç½²èªªæ˜

### æˆ‘éœ€è¦é‡æ–°ä½ˆç½²å—ï¼Ÿ

- **å‰ç«¯ï¼ˆHTML/JS/CSSï¼‰æ”¹å‹•**ï¼šåªè¦é‡æ–°æ¨é€åˆ° GitHub Pages æˆ–ä½ çš„éœæ…‹ä¸»æ©Ÿå³å¯ï¼Œ**ä¸éœ€è¦**é‡æ–°ç™¼å¸ƒ Google Apps Scriptã€‚
- **`js/api.js` å…§çš„ `API_CONFIG` èª¿æ•´**ï¼šå±¬æ–¼å‰ç«¯è¨­å®šï¼Œæ›´æ–°å‰ç«¯éƒ¨ç½²å°±èƒ½ç”Ÿæ•ˆã€‚å¦‚æœæ›´æ›äº† `baseUrl` æˆ– `token`ï¼Œè«‹åŒæ­¥å¾Œç«¯è¨­å®šã€‚
- **`backend-api.gs` æˆ– Apps Script ä»£ç¢¼æ”¹å‹•**ï¼šéœ€è¦åœ¨ Apps Script å¾Œå°é‡æ–° **Deploy â†’ New version â†’ Execute as: Me â†’ Who has access: Anyone** å–å¾—æ–° Web App URLï¼Œä¸¦æ›´æ–°åˆ°å‰ç«¯çš„ `API_CONFIG.baseUrl`ã€‚
- **Google Sheets / Drive çµæ§‹è®Šæ›´**ï¼šè‹¥å¾Œç«¯æœ‰ä¾è³´æ¬„ä½æˆ–è³‡æ–™å¤¾ IDï¼Œè«‹å…ˆæ›´æ–°å¾Œç«¯ç¨‹å¼ä¸¦é‡æ–°éƒ¨ç½²ï¼Œå†æ›´æ–°å‰ç«¯è¨­å®šã€‚

### å‰ç«¯éƒ¨ç½²ï¼ˆGitHub Pagesï¼‰

```bash
# 1. æ¨é€åˆ° GitHub
git add .
git commit -m "update: æ›´æ–°å‰ç«¯"
git push origin main

# 2. å•Ÿç”¨ GitHub Pages
# Settings â†’ Pages â†’ Source: main branch

# 3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆ1-5 åˆ†é˜ï¼‰
# è¨ªå• https://whlans66-eng.github.io/teacher-roster/
```

### å¾Œç«¯éƒ¨ç½²ï¼ˆGoogle Apps Scriptï¼‰

1. é–‹å•Ÿ [Google Apps Script](https://script.google.com)
2. å»ºç«‹æ–°å°ˆæ¡ˆï¼Œè²¼ä¸Š `backend-api.gs`
3. ä¿®æ”¹è¨­å®šï¼š
   - `TOKEN`ï¼šè‡ªè¨‚å®‰å…¨ä»¤ç‰Œ
   - `SHEET_ID`ï¼šGoogle Sheets ID
   - `FOLDER_ID`ï¼šGoogle Drive è³‡æ–™å¤¾ ID
4. éƒ¨ç½²ç‚º Web App
5. è¤‡è£½ URL åˆ° `js/api.js`

è©³ç´°æ­¥é©Ÿè«‹åƒè€ƒ [é–‹ç™¼æ‰‹å†Š](./DEVELOPMENT_MANUAL.md#5-google-apps-script-å¾Œç«¯é–‹ç™¼)

---

## ğŸ”® æœªä¾†å‡ç´šè¨ˆåŠƒ

å°ˆæ¡ˆå·²æº–å‚™å¥½å‡ç´šåˆ°æ›´å¼·å¤§çš„ä¼æ¥­ç´šæ¶æ§‹ï¼š

### è¨ˆåŠƒä¸­çš„æŠ€è¡“æ£§

| é …ç›® | ç›®å‰ | è¨ˆåŠƒå‡ç´š |
|------|------|----------|
| **å‰ç«¯** | HTML/CSS/JS | React + TypeScript + Vite |
| **å¾Œç«¯** | Google Apps Script | Node.js + Express + TypeScript |
| **è³‡æ–™åº«** | Google Sheets | MySQL 8.0 / Azure Database |
| **èªè­‰** | Token | JWT + bcrypt |
| **æ¬Šé™** | åŸºæœ¬ | RBACï¼ˆè§’è‰²æ¬Šé™æ§åˆ¶ï¼‰|
| **éƒ¨ç½²** | GitHub Pages + GAS | Docker / Azure App Service |

### å‡ç´šå„ªå‹¢

- âœ… **RBAC æ¬Šé™ç³»çµ±**ï¼š4 ç¨®è§’è‰²ï¼Œ33+ ç¨®ç´°ç·»æ¬Šé™
- âœ… **æ¨‚è§€é–**ï¼šé˜²æ­¢ä½µç™¼è¡çª
- âœ… **æ“ä½œæ—¥èªŒ**ï¼šå®Œæ•´å¯©è¨ˆè¿½è¹¤
- âœ… **å®‰å…¨é˜²è­·**ï¼šRate Limitingã€Helmetã€XSS/SQL Injection é˜²è­·
- âœ… **æ›´å¥½æ•ˆèƒ½**ï¼šè³‡æ–™åº«ç´¢å¼•ã€é€£ç·šæ± ã€å¿«å–æ©Ÿåˆ¶

### å‡ç´šæº–å‚™

å°ˆæ¡ˆå·²åŒ…å«å‡ç´šæ‰€éœ€çš„æ‰€æœ‰ç¨‹å¼ç¢¼ï¼š

```
âœ… backend/              # Node.js + Express å¾Œç«¯ï¼ˆå·²å®Œæˆï¼‰
âœ… database/             # MySQL è³‡æ–™åº«çµæ§‹ï¼ˆå·²å®Œæˆï¼‰
âœ… docker-compose.yml    # Docker éƒ¨ç½²é…ç½®
âœ… AZURE_SETUP.md       # Azure éƒ¨ç½²æŒ‡å—
âœ… è³‡æ–™é·ç§»å·¥å…·          # å¾ Sheets é·ç§»åˆ° MySQL
```

ç•¶éœ€è¦å‡ç´šæ™‚ï¼Œåªéœ€ï¼š

```bash
# é·ç§»è³‡æ–™
node database/migrate-from-sheets.js

# å•Ÿå‹•æ–°æ¶æ§‹
docker-compose up -d
```

### ä½•æ™‚è©²å‡ç´šï¼Ÿ

è€ƒæ…®å‡ç´šçš„æ™‚æ©Ÿï¼š

- ç”¨æˆ¶æ•¸é‡è¶…é 100 äºº
- éœ€è¦æ›´è¤‡é›œçš„æ¬Šé™æ§åˆ¶
- éœ€è¦æ“ä½œæ—¥èªŒå’Œå¯©è¨ˆåŠŸèƒ½
- æ•ˆèƒ½æˆç‚ºç“¶é ¸
- éœ€è¦æ›´å¥½çš„ä½µç™¼æ§åˆ¶

---

## ğŸ“ æ”¯æ´èˆ‡è²¢ç»

### å–å¾—å¹«åŠ©

- ğŸ“– é–±è®€ [é–‹ç™¼æ‰‹å†Š](./DEVELOPMENT_MANUAL.md)
- ğŸ› å›å ±å•é¡Œï¼š[GitHub Issues](https://github.com/whlans66-eng/teacher-roster/issues)
- ğŸ’¬ è¨è«–ï¼š[GitHub Discussions](https://github.com/whlans66-eng/teacher-roster/discussions)

### è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Pull Requestï¼

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

---

## ğŸ“„ æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](./LICENSE) æª”æ¡ˆ

---

## ğŸ™ è‡´è¬

æœ¬å°ˆæ¡ˆä½¿ç”¨ä»¥ä¸‹æŠ€è¡“å’Œæœå‹™ï¼š

- [Google Apps Script](https://developers.google.com/apps-script) - ç„¡ä¼ºæœå™¨å¾Œç«¯
- [Google Sheets](https://www.google.com/sheets/about/) - è³‡æ–™å„²å­˜
- [Google Drive](https://www.google.com/drive/) - æª”æ¡ˆå„²å­˜
- [GitHub Pages](https://pages.github.com/) - éœæ…‹ç¶²ç«™è¨—ç®¡

---

**Built with â¤ï¸ for Education**

ğŸ“ ç›®å‰é‹è¡Œç‰ˆæœ¬ï¼šv1.0.0 (Google ç”Ÿæ…‹ç³»çµ±)
ğŸš€ è¨ˆåŠƒå‡ç´šç‰ˆæœ¬ï¼šv2.0.0 (ä¼æ¥­ç´šä¸‰å±¤æ¶æ§‹)
